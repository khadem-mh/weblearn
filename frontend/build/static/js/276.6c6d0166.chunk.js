"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[276],{8321:(e,t,n)=>{n.d(t,{A:()=>f});var s=n(5043),o=n(3216),l=n(5475),r=n(8057),i=n(579);const a=(0,s.forwardRef)(((e,t)=>{let{title:n,subTitle:s,subTitleLink:o,subTitleTextLink:a,children:c,footer:d=!0}=e;return(0,i.jsxs)("section",{className:"register",children:[(0,i.jsx)("div",{className:"backgroundImageLogin"}),(0,i.jsxs)("section",{className:"container-form-registery",children:[(0,i.jsx)(r.A,{srcLogo:"./Images/Logos/Logo-site/logo-one-copy.png"}),(0,i.jsxs)("div",{className:"form-register",children:[(0,i.jsx)("h4",{className:"form-register__title",children:n}),(0,i.jsxs)("p",{className:"form-register__subtitle",children:[" ",s," ",(0,i.jsxs)(l.N_,{to:o,children:[" ",a," "]})]}),(0,i.jsxs)("form",{className:"user-datas",autoComplete:"on",ref:t,children:[c,(0,i.jsx)("button",{className:"btn-form-register",disabled:!0,children:"\u0627\u062f\u0627\u0645\u0647"})]})]}),d&&(0,i.jsx)("div",{className:"register__footer",children:(0,i.jsxs)("strong",{children:["\u0628\u0627 \u0639\u0636\u0648\u06cc\u062a \u062f\u0631 \u0633\u0627\u06cc\u062a\u060c \u062a\u0645\u0627\u0645\u06cc \u0642\u0648\u0627\u0646\u06cc\u0646 \u0648 \u0634\u0631\u0627\u06cc\u0637 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u062e\u062f\u0645\u062a ",(0,i.jsx)(l.N_,{to:"/",children:"\u0648\u0628 \u0644\u0631\u0646"})," \u0631\u0627 \u067e\u0630\u06cc\u0631\u0641\u062a\u0647 \u0627\u06cc\u062f."]})})]})]})}));var c=n(9136),d=n(722),h=n(7962),u=n(6720),p=n(7196),g=n(9325),m=n(9128),j=n(3023),x=n.n(j);function f(e){let{nameFormPage:t}=e;const n=(0,o.Zp)(),l=(0,s.useRef)(),[r,j]=(0,s.useState)([]),[f,y]=(0,s.useState)(!1),b=(0,s.useContext)(m.c);(0,s.useEffect)((()=>{let e=l.current.lastElementChild;if(!f&&e.setAttribute("disabled",!0),window.location.pathname.includes("login")&&r.length===l.current.children.length-2&&f||window.location.pathname.includes("register")&&r.length===l.current.children.length-1||window.location.pathname.includes("contact")&&r.length===l.current.children.length-1){r.every((e=>!!e.valid))?(e.removeAttribute("disabled"),e.addEventListener("click",(e=>{if(e.preventDefault(),"register"===t){const e={username:null,email:null,password:null,confirmPassword:null,name:null,phone:null};r.map((t=>(t.type===g.Rw&&(e.name=t.value),t.type===g.xh&&(e.username=t.value),t.type===g.U9&&(e.phone=t.value),t.type===g.fP&&(e.email=t.value),t.type===g.IA&&(e.password=t.value)&&(e.confirmPassword=t.value),!0))),fetch("http://localhost:4000/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.ok?e.json():e.text().then((e=>{throw new Error(e)})))).then((e=>{x()({title:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062b\u0628\u062a \u0646\u0627\u0645 \u0634\u062f\u06cc\u062f",icon:"success",buttons:"\u0648\u0631\u0648\u062f \u0628\u0647 \u067e\u0646\u0644"}),b.login(e.user,e.accessToken),window.location="/my-account"})).catch((e=>{x()({title:"\u0627\u06cc\u0646 \u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646 \u0628\u0646 \u0634\u062f\u0647 \u0627\u0633\u062a \u0648 \u0634\u0645\u0627 \u0645\u062c\u0627\u0632 \u0628\u0647 \u062b\u0628\u062a \u0646\u0627\u0645 \u0646\u06cc\u0633\u062a\u06cc\u062f",icon:"error",buttons:"\u0628\u0627\u0634\u0647"})}))}else if("login"===t){const e={identifier:null,password:null};r.map((t=>(t.type===g.fP&&(e.identifier=t.value),t.type===g.IA&&(e.password=t.value),!0))),fetch("http://localhost:4000/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.ok?e.json():e.text().then((e=>{throw new Error(e)})))).then((e=>{x()({title:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0648\u0627\u0631\u062f \u0634\u062f\u06cc\u062f",icon:"success",buttons:"\u0648\u0631\u0648\u062f \u0628\u0647 \u067e\u0646\u0644"}).then((e=>{var t;return n(null!==(t=b.userInfos)&&void 0!==t&&t.role&&"ADMIN"===b.userInfos.role?"/my-account":"/p-admin")})),b.login(e.user,e.accessToken)})).catch((e=>{x()({title:"\u0647\u0645\u0686\u06cc\u0646 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f",icon:"error",buttons:"\u062a\u0644\u0627\u0634 \u062f\u0648\u0628\u0627\u0631\u0647"})}))}else{const e={name:null,email:null,phone:null,body:null};r.map((t=>(t.type===g.Rw&&(e.name=t.value),t.type===g.fP&&(e.email=t.value),t.type===g.U9&&(e.phone=t.value),t.type===g.Tg&&(e.body=t.value),!0))),fetch("http://localhost:4000/v1/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.ok?e.json():e.text().then((e=>{throw new Error(e)})))).then((e=>{x()({title:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0646\u0638\u0631\u062a\u0648\u0646 \u0627\u0631\u0633\u0627\u0644 \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"}).then((e=>n("/")))})).catch((e=>{x()({title:"\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0632 \u067e\u06cc\u0634 \u0622\u0645\u062f",icon:"error",buttons:"\u062a\u0644\u0627\u0634 \u062f\u0648\u0628\u0627\u0631\u0647"})}))}}))):e.setAttribute("disabled",!0)}}),[r,f,b]);const v=e=>{j((t=>{if(0===t.length)return[e];{let n=t.filter((t=>t.type!==e.type&&t));if(n)return[...n,e]}}))};return(0,i.jsx)(a,{ref:l,title:"register"===t?"\u0639\u0636\u0648\u06cc\u062a":"login"===t?"\u0648\u0631\u0648\u062f \u0628\u0627 \u0627\u06cc\u0645\u06cc\u0644":"contactus"===t&&"\u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0645\u0627",subTitle:"register"===t?"\u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f\u061f ":"login"===t?" \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0646\u062f\u0627\u0631\u06cc\u062f\u061f ":"contactus"===t&&"\u0646\u0638\u0631 \u06cc\u0627 \u0627\u0646\u062a\u0642\u0627\u062f\u062a\u0648 \u0628\u0631\u0627\u0645\u0648\u0646 \u0628\u0646\u0648\u06cc\u0633 :)",subTitleTextLink:"register"===t?"\u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f ":"login"===t?"\u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0646\u06cc\u062f":"contactus"===t&&"",subTitleLink:"register"===t?"/login":"login"===t?"/register":"contactus"===t&&"",footer:"contactus"!==t,children:"register"===t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.A,{onValid:v,type:g.Rw,inpPlaceholder:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0648\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",inpIcon:(0,i.jsx)(h.H_r,{})}),(0,i.jsx)(c.A,{onValid:v,type:g.xh,inpPlaceholder:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc ",inpIcon:(0,i.jsx)(h.H_r,{})}),(0,i.jsx)(c.A,{onValid:v,type:g.U9,inpPlaceholder:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646",inpIcon:(0,i.jsx)(h.ElY,{})}),(0,i.jsx)(c.A,{onValid:v,type:g.fP,inpPlaceholder:"\u0622\u062f\u0631\u0633 \u0627\u06cc\u0645\u06cc\u0644",inpIcon:(0,i.jsx)(u.Lj6,{})}),(0,i.jsx)(c.A,{onValid:v,type:g.IA,inpPlaceholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",inpIcon:(0,i.jsx)(p.EhT,{})})]}):"login"===t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.A,{onValid:v,type:g.fP,inpPlaceholder:"\u0622\u062f\u0631\u0633 \u0627\u06cc\u0645\u06cc\u0644",inpIcon:(0,i.jsx)(u.Lj6,{})}),(0,i.jsx)(c.A,{onValid:v,type:g.IA,inpPlaceholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",inpIcon:(0,i.jsx)(p.EhT,{})}),(0,i.jsx)("div",{className:"parent-recaptcha",children:(0,i.jsx)(d.A,{sitekey:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",onChange:()=>y((e=>!e)),theme:"dark"})})]}):"contactus"===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.A,{onValid:v,type:g.Rw,inpPlaceholder:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0648\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",inpIcon:(0,i.jsx)(h.H_r,{})}),(0,i.jsx)(c.A,{onValid:v,type:g.fP,inpPlaceholder:"\u0622\u062f\u0631\u0633 \u0627\u06cc\u0645\u06cc\u0644",inpIcon:(0,i.jsx)(u.Lj6,{})}),(0,i.jsx)(c.A,{onValid:v,type:g.U9,inpPlaceholder:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646",inpIcon:(0,i.jsx)(h.ElY,{})}),(0,i.jsx)(c.A,{onValid:v,type:g.Tg,inpPlaceholder:"\u0645\u062a\u0646 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f",textarea:!0})]})})}},7276:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});n(5043);var s=n(8321),o=n(579);function l(){return(0,o.jsx)("section",{className:"page-register",children:(0,o.jsx)(s.A,{nameFormPage:"register"})})}}}]);
//# sourceMappingURL=276.6c6d0166.chunk.js.map