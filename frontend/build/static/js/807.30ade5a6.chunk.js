"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[807],{1432:(e,t,n)=>{n.d(t,{A:()=>l});n(5043);var s=n(579);function l(e){let{msg:t}=e;return(0,s.jsx)("div",{className:"parent-err-msg",children:(0,s.jsx)("h1",{className:"err-msg",children:t})})}},2621:(e,t,n)=>{n.d(t,{A:()=>l});n(5043);var s=n(579);function l(e){let{cildren:t,placeHolderInp:n,valInp:l,setValInp:c,dis:a=!1}=e;return(0,s.jsxs)("div",{className:"edit-products-form-group",children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)("input",{type:"text",minLength:3,disabled:a,value:l||"",onChange:e=>c(e.target.value),placeholder:n,className:"edit-products-input text-black"})]})}},1073:(e,t,n)=>{n.d(t,{A:()=>s});const s=e=>{const t=t=>27===t.keyCode&&e();return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)}},8692:(e,t,n)=>{n.d(t,{A:()=>c});n(5043);var s=n(7950),l=n(579);function c(e){let{submitAction:t,cancleAction:n,title:c}=e;return s.createPortal((0,l.jsx)("div",{className:"modal-parent active",children:(0,l.jsxs)("div",{className:"delete-modal",children:[(0,l.jsx)("h1",{children:c}),(0,l.jsxs)("div",{className:"delete-modal-btns",children:[(0,l.jsx)("button",{className:"delete-btn delete-modal-accept-btn",onClick:e=>t(e),children:"\u0628\u0644\u0647"}),(0,l.jsx)("button",{className:"delete-btn delete-modal-reject-btn",onClick:()=>n(),children:"\u062e\u06cc\u0631"})]})]})}),document.getElementById("modals-parent"))}},5061:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(5043),l=n(7950),c=n(1073),a=n(579);function o(e){let{children:t,onClose:n,onSubmit:o,title:r,btnIsActive:i=!0}=e;return(0,s.useEffect)((()=>{(0,c.A)(n)})),l.createPortal((0,a.jsx)("div",{className:"modal-parent active",children:(0,a.jsxs)("form",{className:"edit-modal-form",children:[(0,a.jsx)("h1",{children:r}),t,i&&(0,a.jsx)("button",{className:"edit-form-submit",onClick:o,children:"\u0627\u062f\u0627\u0645\u0647"})]})}),document.getElementById("modals-parent"))}},807:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var s=n(5043),l=n(8692),c=n(2621),a=n(5061),o=n(1432),r=n(9136),i=n(3023),d=n.n(i),h=n(9325),u=n(579);function m(){const[e,t]=(0,s.useState)(""),[n,i]=(0,s.useState)(""),[m,p]=(0,s.useState)(!1),[j,x]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),[b,g]=(0,s.useState)(!1),[y,S]=(0,s.useState)([]),[N,A]=(0,s.useState)(null),[I,k]=(0,s.useState)([]),[C,E]=(0,s.useState)(!1),[w,O]=(0,s.useState)(!1);(0,s.useEffect)((()=>{B()}),[]);const B=()=>{fetch("http://localhost:4000/v1/category",{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((e=>e.json())).then((e=>{console.log(e),S(e)}))};(0,s.useEffect)((()=>{if(2===I.length){I.every((e=>!!e.valid))?(O(!0),E(!0)):(O(!1),E(!1))}}),[I]),(0,s.useEffect)((()=>{null!==I&&void 0!==I&&I.valid&&I.valid?O(!1):(A(null),O(!0))}),[I]);const J=e=>{k((t=>{if(0===t.length)return[e];{let n=t.filter((t=>t.type!==e.type&&t));if(n)return[...n,e]}}))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("section",{children:[(0,u.jsxs)("div",{className:"com-main",children:[(0,u.jsx)("h1",{className:"com-title",children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u062c\u062f\u06cc\u062f"}),(0,u.jsxs)("form",{className:"add-com-form",children:[(0,u.jsxs)("div",{className:"add-com-form-wrap",children:[(0,u.jsx)(r.A,{customStyle:"edit-products-form-group m-0",customStyleInp:"edit-products-input",cleanInput:N,onValid:J,type:h.Rw,inpPlaceholder:"\u0639\u0646\u0648\u0627\u0646"}),(0,u.jsx)(r.A,{customStyle:"edit-products-form-group m-0",customStyleInp:"edit-products-input",cleanInput:N,onValid:J,type:h.xh,inpPlaceholder:"\u0645\u0633\u06cc\u0631 \u0639\u0646\u0648\u0627\u0646"})]}),(0,u.jsx)("button",{className:"add-com-submit",onClick:e=>(e=>{if(e.preventDefault(),C&&I.length){O(!0);const e={title:null,name:null};I.map((t=>(t.type===h.Rw&&(e.title=t.value),t.type===h.xh&&(e.name=t.value),!0))),fetch("http://localhost:4000/v1/category",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)},body:JSON.stringify(e)}).then((e=>e.json())).then((()=>{B(),A(""),k([]),d()({title:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u062c\u062f\u06cc\u062f \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0636\u0627\u0641\u0647 \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"})})).catch((e=>{d()({title:"\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0633\u0645\u062a \u0633\u0631\u0648\u0631 \u067e\u06cc\u0634 \u0627\u0645\u062f\u0647",icon:"error",buttons:"\u0628\u0627\u0634\u0647"})}))}})(e),disabled:!w,children:"\u0627\u0641\u0632\u0648\u062f\u0646"})]})]}),(0,u.jsxs)("div",{children:[y.length?(0,u.jsx)("h1",{className:"products-title title-pr",children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0647\u0627"}):"",(0,u.jsx)("div",{className:"parent-table",children:y.length?(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",children:"\u0634\u0646\u0627\u0633\u0647"}),(0,u.jsx)("th",{scope:"col",children:"\u0639\u0646\u0648\u0627\u0646"}),(0,u.jsx)("th",{scope:"col",children:"\u0645\u0633\u06cc\u0631"}),(0,u.jsx)("th",{scope:"col",children:"\u0648\u06cc\u0631\u0627\u06cc\u0634"}),(0,u.jsx)("th",{scope:"col",children:"\u062d\u0630\u0641"})]})}),(0,u.jsx)("tbody",{children:y&&y.map(((e,n)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:n+1}),(0,u.jsx)("td",{children:e.title}),(0,u.jsx)("td",{children:e.name}),(0,u.jsx)("td",{children:(0,u.jsx)("button",{className:"products-table-btn",onClick:()=>{v(!0),t(e.name),i(e.title),g(e._id)},children:"\u0648\u06cc\u0631\u0627\u06cc\u0634"})}),(0,u.jsx)("td",{children:(0,u.jsx)("button",{className:"products-table-btn",onClick:()=>{p(!0),g(e._id)},children:"\u062d\u0630\u0641"})})]},n)))})]}):(0,u.jsx)(o.A,{msg:"\u0647\u06cc\u0686 \u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0627\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})})]})]}),m&&(0,u.jsx)(l.A,{cancleAction:()=>p(!1),submitAction:()=>{fetch("http://localhost:4000/v1/category/".concat(b),{method:"DELETE",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((e=>e.json())).then((e=>{B(),d()({title:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0645\u062f\u0646\u0638\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062d\u0630\u0641 \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"}),p(!1),S(e),x(!1)}))},title:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u06a9\u0631\u062f\u0646 \u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u062f\u0627\u0631\u06cc\u062f"}),f&&(0,u.jsxs)(a.A,{onClose:()=>v(!1),onSubmit:t=>(t=>{t.preventDefault();const s={title:n,name:e};fetch("http://localhost:4000/v1/category/".concat(b),{method:"PUT",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token),"Content-Type":"application/json"},body:JSON.stringify(s)}).then((e=>e.json())).then((()=>{v(!1),B(),d()({title:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0645\u062f\u0646\u0638\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"})}))})(t),title:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062c\u062f\u06cc\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f",children:[(0,u.jsx)(c.A,{setValInp:i,valInp:n,placeHolderInp:"\u0639\u0646\u0648\u0627\u0646 \u062c\u062f\u06cc\u062f"}),(0,u.jsx)(c.A,{setValInp:t,valInp:e,placeHolderInp:"\u0646\u0627\u0645 \u062c\u062f\u06cc\u062f"})]})]})}}}]);
//# sourceMappingURL=807.30ade5a6.chunk.js.map