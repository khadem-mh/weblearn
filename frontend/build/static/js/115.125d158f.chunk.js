"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[115],{1432:(e,t,s)=>{s.d(t,{A:()=>n});s(5043);var l=s(579);function n(e){let{msg:t}=e;return(0,l.jsx)("div",{className:"parent-err-msg",children:(0,l.jsx)("h1",{className:"err-msg",children:t})})}},2621:(e,t,s)=>{s.d(t,{A:()=>n});s(5043);var l=s(579);function n(e){let{cildren:t,placeHolderInp:s,valInp:n,setValInp:c,dis:a=!1}=e;return(0,l.jsxs)("div",{className:"edit-products-form-group",children:[(0,l.jsx)("span",{children:t}),(0,l.jsx)("input",{type:"text",minLength:3,disabled:a,value:n||"",onChange:e=>c(e.target.value),placeholder:s,className:"edit-products-input text-black"})]})}},8692:(e,t,s)=>{s.d(t,{A:()=>c});s(5043);var l=s(7950),n=s(579);function c(e){let{submitAction:t,cancleAction:s,title:c}=e;return l.createPortal((0,n.jsx)("div",{className:"modal-parent active",children:(0,n.jsxs)("div",{className:"delete-modal",children:[(0,n.jsx)("h1",{children:c}),(0,n.jsxs)("div",{className:"delete-modal-btns",children:[(0,n.jsx)("button",{className:"delete-btn delete-modal-accept-btn",onClick:e=>t(e),children:"\u0628\u0644\u0647"}),(0,n.jsx)("button",{className:"delete-btn delete-modal-reject-btn",onClick:()=>s(),children:"\u062e\u06cc\u0631"})]})]})}),document.getElementById("modals-parent"))}},115:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var l=s(5043),n=s(2621),c=s(1355),a=s(6720),r=s(184),o=s(3023),d=s.n(o),i=s(579);function h(e){let{getAllOffs:t}=e;const[s,o]=(0,l.useState)(""),[h,u]=(0,l.useState)(""),[x,j]=(0,l.useState)(null),[m,p]=(0,l.useState)(null),[f,g]=(0,l.useState)([]);(0,l.useEffect)((()=>{v()}),[]);const v=()=>{fetch("http://localhost:4000/v1/courses").then((e=>e.json())).then((e=>{console.log(e),g(e)}))};return(0,i.jsxs)("div",{className:"com-main",children:[(0,i.jsx)("h1",{className:"com-title",children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u062a\u062e\u0641\u06cc\u0641 \u062c\u062f\u06cc\u062f"}),(0,i.jsxs)("form",{className:"add-com-form",children:[(0,i.jsxs)("div",{className:"add-com-form-wrap",children:[(0,i.jsx)(n.A,{valInp:s,setValInp:o,cildren:(0,i.jsx)(c.xOD,{}),placeHolderInp:"\u06a9\u062f \u062a\u062e\u0641\u06cc\u0641"}),(0,i.jsx)(n.A,{valInp:h,setValInp:u,cildren:(0,i.jsx)(a.Jbs,{}),placeHolderInp:"\u062f\u0631\u0635\u062f \u062a\u062e\u0641\u06cc\u0641"}),(0,i.jsx)(n.A,{valInp:x,setValInp:j,cildren:(0,i.jsx)(r.lcu,{}),placeHolderInp:"\u062d\u062f\u0627\u06af\u062b\u0631 \u0627\u0633\u062a\u0641\u0627\u062f\u0647"}),(0,i.jsxs)("select",{className:"form-select mt-4",onChange:e=>{p(e.target.value)},children:[(0,i.jsx)("option",{value:"-1",children:"\u062f\u0648\u0631\u0647 \u0645\u062f\u0646\u0638\u0631 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"}),f.map(((e,t)=>(0,i.jsx)("option",{value:e._id,children:e.name},t)))]})]}),(0,i.jsx)("button",{className:"add-com-submit",onClick:e=>(e=>{if(e.preventDefault(),s.length&&h.length&&m&&x.length){let e={code:s,percent:h,course:m,max:x};fetch("http://localhost:4000/v1/offs",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{t(),o(""),u(""),d()({title:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0627\u0636\u0627\u0641\u0647 \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"})}))}else d()({title:"\u0644\u0637\u0641\u0627 \u0645\u0642\u0627\u062f\u06cc\u0631 \u062e\u0648\u0627\u0633\u062a\u0647 \u0634\u062f\u0647 \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f",icon:"error",buttons:"\u0628\u0627\u0634\u0647"})})(e),children:"\u062b\u0628\u062a \u062a\u062e\u0641\u06cc\u0641"})]})]})}var u=s(1432),x=s(8692);function j(e){let{getOffs:t,getAllOffs:s}=e;const[n,c]=(0,l.useState)(!1),[a,r]=(0,l.useState)(null);return(0,i.jsxs)(i.Fragment,{children:[t.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:"products-title",children:"\u062a\u062e\u0641\u06cc\u0641 \u0647\u0627"}),(0,i.jsx)("div",{className:"parent-table table-users",children:(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",children:"\u0634\u0646\u0627\u0633\u0647"}),(0,i.jsx)("th",{scope:"col",children:"\u06a9\u062f \u062a\u062e\u0641\u06cc\u0641"}),(0,i.jsx)("th",{scope:"col",children:"\u062f\u0631\u0635\u062f \u062a\u062e\u0641\u06cc\u0641"}),(0,i.jsx)("th",{scope:"col",children:"\u0646\u0627\u0645 admin"}),(0,i.jsx)("th",{scope:"col",children:"\u062d\u062f\u0627\u06a9\u062b\u0631 \u0627\u0633\u062a\u0641\u0627\u062f\u0647"}),(0,i.jsx)("th",{scope:"col",children:"\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0634\u062f\u0647"}),(0,i.jsx)("th",{scope:"col",children:"\u0641\u0639\u0627\u0644"}),(0,i.jsx)("th",{scope:"col",children:"\u062d\u0630\u0641"})]})}),(0,i.jsx)("tbody",{children:t.map(((e,t)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:t+1}),(0,i.jsx)("td",{children:e.code}),(0,i.jsxs)("td",{children:[e.percent," %"]}),(0,i.jsx)("td",{children:e.creator}),(0,i.jsx)("td",{children:e.max}),(0,i.jsx)("td",{children:e.uses}),(0,i.jsx)("td",{children:e.uses==e.max?"\u062e\u06cc\u0631":"\u0628\u0644\u0647"}),(0,i.jsx)("td",{children:(0,i.jsx)("button",{className:"products-table-btn",onClick:()=>{r(e._id),c(!0)},children:"\u062d\u0630\u0641"})})]},t)))})]})})]}):(0,i.jsx)(u.A,{msg:"\u0647\u06cc\u0686 \u062a\u062e\u0641\u06cc\u0641\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"}),n&&(0,i.jsx)(x.A,{cancleAction:()=>c(!1),submitAction:e=>(e=>{e.preventDefault(),fetch("http://localhost:4000/v1/offs/".concat(a),{method:"DELETE",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((e=>{e.ok&&(c(!1),s(),d()({title:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u062d\u0630\u0641 \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"}))}))})(e),title:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u062f\u0627\u0631\u06cc\u062f"})]})}function m(){const[e,t]=(0,l.useState)([]);(0,l.useEffect)((()=>{s()}),[]);const s=()=>{fetch("http://localhost:4000/v1/offs",{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((e=>e.json())).then((e=>{console.log(e),t(e)}))};return(0,i.jsxs)("div",{children:[(0,i.jsx)(h,{getAllOffs:s}),(0,i.jsx)(j,{getOffs:e,getAllOffs:s})]})}}}]);
//# sourceMappingURL=115.125d158f.chunk.js.map