"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[753],{1432:(e,t,n)=>{n.d(t,{A:()=>c});n(5043);var s=n(579);function c(e){let{msg:t}=e;return(0,s.jsx)("div",{className:"parent-err-msg",children:(0,s.jsx)("h1",{className:"err-msg",children:t})})}},1073:(e,t,n)=>{n.d(t,{A:()=>s});const s=e=>{const t=t=>27===t.keyCode&&e();return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)}},8692:(e,t,n)=>{n.d(t,{A:()=>l});n(5043);var s=n(7950),c=n(579);function l(e){let{submitAction:t,cancleAction:n,title:l}=e;return s.createPortal((0,c.jsx)("div",{className:"modal-parent active",children:(0,c.jsxs)("div",{className:"delete-modal",children:[(0,c.jsx)("h1",{children:l}),(0,c.jsxs)("div",{className:"delete-modal-btns",children:[(0,c.jsx)("button",{className:"delete-btn delete-modal-accept-btn",onClick:e=>t(e),children:"\u0628\u0644\u0647"}),(0,c.jsx)("button",{className:"delete-btn delete-modal-reject-btn",onClick:()=>n(),children:"\u062e\u06cc\u0631"})]})]})}),document.getElementById("modals-parent"))}},5061:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(5043),c=n(7950),l=n(1073),a=n(579);function o(e){let{children:t,onClose:n,onSubmit:o,title:r,btnIsActive:d=!0}=e;return(0,s.useEffect)((()=>{(0,l.A)(n)})),c.createPortal((0,a.jsx)("div",{className:"modal-parent active",children:(0,a.jsxs)("form",{className:"edit-modal-form",children:[(0,a.jsx)("h1",{children:r}),t,d&&(0,a.jsx)("button",{className:"edit-form-submit",onClick:o,children:"\u0627\u062f\u0627\u0645\u0647"})]})}),document.getElementById("modals-parent"))}},7753:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var s=n(5043),c=n(5061),l=n(8692),a=n(1432),o=n(3023),r=n.n(o),d=n(579);function i(){const[e,t]=(0,s.useState)([]),[n,o]=(0,s.useState)(!1),[i,h]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),[j,x]=(0,s.useState)(""),[b,p]=(0,s.useState)(!1),[f,v]=(0,s.useState)(""),[g,N]=(0,s.useState)("");(0,s.useEffect)((()=>{A()}),[]);const A=()=>{fetch("http://localhost:4000/v1/contact").then((e=>e.json())).then((e=>{console.log(e),t(e)}))};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"parent-table",children:e.length?(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"col",children:"\u0634\u0646\u0627\u0633\u0647"}),(0,d.jsx)("th",{scope:"col",children:"\u0646\u0627\u0645"}),(0,d.jsx)("th",{scope:"col",children:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633"}),(0,d.jsx)("th",{scope:"col",children:"\u0627\u06cc\u0645\u06cc\u0644"}),(0,d.jsx)("th",{scope:"col",children:"\u067e\u06cc\u063a\u0627\u0645"}),(0,d.jsx)("th",{scope:"col",children:"\u067e\u0627\u0633\u062e"}),(0,d.jsx)("th",{scope:"col",children:"\u062d\u0630\u0641"})]})}),(0,d.jsx)("tbody",{children:e.map(((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:t+1}),(0,d.jsx)("td",{children:e.name}),(0,d.jsx)("td",{children:e.phone}),(0,d.jsx)("td",{children:e.email}),(0,d.jsx)("td",{children:(0,d.jsx)("button",{className:"products-table-btn",onClick:()=>{m(e.body),o(!0)},children:"\u062f\u06cc\u062f\u0646 \u067e\u06cc\u063a\u0627\u0645"})}),(0,d.jsx)("td",{children:1===e.answer?(0,d.jsx)("button",{className:"products-table-btn",disabled:!0,children:"\u067e\u0627\u0633\u062e \u062f\u0627\u062f\u0647 \u0634\u062f\u0647"}):(0,d.jsx)("button",{className:"products-table-btn",onClick:()=>{x(e.email),h(!0)},children:"\u067e\u0627\u0633\u062e"})}),(0,d.jsx)("td",{children:(0,d.jsx)("button",{className:"products-table-btn",onClick:()=>{v(e._id),p(!0)},children:"\u062d\u0630\u0641"})})]},t)))})]}):(0,d.jsx)(a.A,{msg:"\u0647\u06cc\u0686 \u067e\u06cc\u063a\u0627\u0645\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})}),i&&(0,d.jsx)(c.A,{onClose:()=>h(!1),onSubmit:e=>(e=>{if(e.preventDefault(),g.length){const e={email:j,answer:g};fetch("http://localhost:4000/v1/contact/answer",{method:"POST",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token),"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((()=>{A(),x(""),N(""),r()({title:"\u067e\u06cc\u063a\u0627\u0645 \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0631\u0633\u0627\u0644 \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"})})),h(!1)}})(e),title:"\u067e\u0627\u0633\u062e \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f",children:(0,d.jsx)("textarea",{value:g,onChange:e=>N(e.target.value),children:"\u067e\u06cc\u063a\u0627\u0645: "})}),n&&(0,d.jsx)(c.A,{onClose:()=>o(!1),btnIsActive:!1,children:(0,d.jsx)("textarea",{readOnly:!0,defaultValue:u})}),b&&(0,d.jsx)(l.A,{cancleAction:()=>p(!1),submitAction:e=>(e.preventDefault(),void(f&&fetch("http://localhost:4000/v1/contact/".concat(f),{method:"DELETE",referrerPolicy:"strict-origin-when-cross-origin",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((e=>e.json())).then((()=>{A(),v(!1),p(!1),r()({title:"\u067e\u06cc\u063a\u0627\u0645 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062d\u0630\u0641 \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"})})))),title:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u067e\u06cc\u063a\u0627\u0645 \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u062f\u0627\u0631\u06cc\u062f"})]})}}}]);
//# sourceMappingURL=753.4dd19f1a.chunk.js.map