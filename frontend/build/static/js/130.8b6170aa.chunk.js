"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[130],{1130:(t,e,o)=>{o.r(e),o.d(e,{default:()=>m});var s=o(5043),n=o(5475),l=o(8879),a=o(5926),c=o(7962),r=o(3538),i=o(7980),d=o(1462),h=o(1882),u=o(64),g=o.n(u),b=o(579);function m(){const[t,e]=(0,s.useState)([]),[o,u]=(0,s.useState)(null),[m,x]=(0,s.useState)(null);(0,s.useEffect)((()=>{fetch("http://localhost:4000/v1/tickets/user",{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((t=>t.json())).then((t=>{console.log(t),e(t)}))}),[]),(0,s.useEffect)((()=>{if(t.length){let e=t.map(((t,e)=>{if(0===t.answer)return e+1})).splice(-1),o=t.map(((t,e)=>{if(1===t.answer)return e+1})).splice(-1);void 0!==e&&u(e),void 0!==o&&x(o)}}),[t]);return(0,b.jsxs)("div",{className:"account-page-my-courses",children:[(0,b.jsxs)("section",{className:"statusbox-page-tickets",children:[(0,b.jsxs)("div",{className:"account-page-first__header",children:[(0,b.jsx)(h.A,{bgColorBox:"rgba(255, 225, 0, .9)",logo:(0,b.jsx)(c.mwh,{}),title:"\u0647\u0645\u0647 \u062a\u06cc\u06a9\u062a \u0647\u0627",subTitle:" ".concat(t.length," \u062f\u0648\u0631\u0647")}),(0,b.jsx)(h.A,{bgColorBox:"rgba(78, 129, 251, .9)",logo:(0,b.jsx)(r.XwK,{}),title:"\u062a\u06cc\u06a9\u062a \u0647\u0627\u06cc \u0628\u0627\u0632",subTitle:"".concat(o&&void 0!==o[0]?o:"0"," \u062f\u0648\u0631\u0647")}),(0,b.jsx)(h.A,{bgColorBox:"rgba(46, 213, 115, .9)",logo:(0,b.jsx)(i.oLv,{}),title:"\u0628\u0633\u062a\u0647 \u0634\u062f\u0647",subTitle:"".concat(m&&void 0!==m[0]?m:"0"," \u062f\u0648\u0631\u0647")})]}),(0,b.jsx)("div",{className:"statusbox-page-tickets__left",children:(0,b.jsxs)(n.N_,{to:"/my-account/add-ticket",children:[" ",(0,b.jsx)(h.A,{bgColorBox:"#4E81FB",logo:(0,b.jsx)(d.yRx,{}),subTitle:"\u062a\u06cc\u06a9\u062a \u062c\u062f\u06cc\u062f"})]})})]}),(0,b.jsxs)("div",{className:"content-left__bottom",children:[(0,b.jsx)("div",{className:"content-left__header",children:(0,b.jsx)(l.A,{title:"\u062a\u06cc\u06a9\u062a \u0647\u0627",linkActive:!1})}),(0,b.jsx)("ul",{className:"content-left__list",children:t.map(((t,e)=>(0,b.jsx)("li",{className:"li-item",style:{cursor:"pointer"},onClick:()=>(t=>{fetch("http://localhost:4000/v1/tickets/answer/".concat(t._id),{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((t=>t.json())).then((e=>{g().fire({icon:"info",html:'\n          <div style="text-align: start">\n            <h2 style="font-weight: bold; color: skyblue; padding-bottom: 1rem">\u2569\u2566 \u062a\u06cc\u06a9\u062a \u0627\u0631\u0633\u0627\u0644 \u0634\u062f\u0647 </h2>\n            <div class="border p-3 rounded-4">\n              <h2 style="font-weight: bold; color: greenyellow; padding-bottom: 1rem">_\u0645\u0648\u0636\u0648\u0639 \u062a\u06cc\u06a9\u062a</h2>\n              '.concat(t.title,'\n              <br/>\n              <br/>\n              <h2 style="font-weight: bold; color: greenyellow; padding-bottom: 1rem">_\u0645\u062a\u0646 \u062a\u06cc\u06a9\u062a</h2>\n              <p>').concat(t.body,'</p>\n            </div>\n            <br/>\n            <br/>\n            <h2 style="font-weight: bold; color: skyblue; padding-bottom: 1rem">\u2569\u2566 \u067e\u0627\u0633\u062e </h2>\n            <p class="text-info">').concat(0===t.answer?"\u0647\u0646\u0648\u0632 \u067e\u0627\u0633\u062e\u06cc \u062f\u0627\u062f\u0647 \u0646\u0634\u062f\u0647 \u0627\u0633\u062a":e.answer,"</p>\n          </div>\n          "),background:"#28293D",color:"whitesmoke",confirmButtonText:"\u062f\u06cc\u062f\u0645"})}))})(t),children:(0,b.jsx)(a.A,{urlDest:"/",textStatus:1!==t.answer,titleTicket:t.title,date3Section:t.createdAt.slice(0,10),statusQues:t.departmentID})},e)))})]})]})}}}]);
//# sourceMappingURL=130.8b6170aa.chunk.js.map