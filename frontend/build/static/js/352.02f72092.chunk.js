"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[352],{1432:(e,t,s)=>{s.d(t,{A:()=>a});s(5043);var l=s(579);function a(e){let{msg:t}=e;return(0,l.jsx)("div",{className:"parent-err-msg",children:(0,l.jsx)("h1",{className:"err-msg",children:t})})}},2621:(e,t,s)=>{s.d(t,{A:()=>a});s(5043);var l=s(579);function a(e){let{cildren:t,placeHolderInp:s,valInp:a,setValInp:n,dis:c=!1}=e;return(0,l.jsxs)("div",{className:"edit-products-form-group",children:[(0,l.jsx)("span",{children:t}),(0,l.jsx)("input",{type:"text",minLength:3,disabled:c,value:a||"",onChange:e=>n(e.target.value),placeholder:s,className:"edit-products-input text-black"})]})}},8692:(e,t,s)=>{s.d(t,{A:()=>n});s(5043);var l=s(7950),a=s(579);function n(e){let{submitAction:t,cancleAction:s,title:n}=e;return l.createPortal((0,a.jsx)("div",{className:"modal-parent active",children:(0,a.jsxs)("div",{className:"delete-modal",children:[(0,a.jsx)("h1",{children:n}),(0,a.jsxs)("div",{className:"delete-modal-btns",children:[(0,a.jsx)("button",{className:"delete-btn delete-modal-accept-btn",onClick:e=>t(e),children:"\u0628\u0644\u0647"}),(0,a.jsx)("button",{className:"delete-btn delete-modal-reject-btn",onClick:()=>s(),children:"\u062e\u06cc\u0631"})]})]})}),document.getElementById("modals-parent"))}},7352:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var l=s(5043),a=s(2621),n=s(8692),c=s(1432),r=s(3023),o=s.n(r),d=s(7977),i=s(726),h=s.n(i),m=s(579);function u(e){let{value:t,setValue:s}=e;return(0,m.jsx)(d.CKEditor,{editor:h(),data:t,onChange:(e,t)=>s(t.getData())})}var p=s(1355),x=s(6833);function j(){const e=(0,l.useRef)(null),t=(0,l.useRef)(null),[s,r]=(0,l.useState)([]),[d,i]=(0,l.useState)(!1),[h,j]=(0,l.useState)(""),[g,v]=(0,l.useState)(""),[b,f]=(0,l.useState)(""),[N,S]=(0,l.useState)(""),[I,y]=(0,l.useState)(""),[A,k]=(0,l.useState)(null),[C,w]=(0,l.useState)(null),[D,E]=(0,l.useState)([]);(0,l.useEffect)((()=>{B(),O()}),[]);const B=()=>{fetch("http://localhost:4000/v1/articles").then((e=>e.json())).then((e=>{console.log(e),r(e)}))},O=()=>{fetch("http://localhost:4000/v1/category",{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((e=>e.json())).then((e=>E(e)))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"com-main",children:[(0,m.jsx)("h1",{className:"com-title",children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u0645\u0642\u0627\u0644\u0647 \u062c\u062f\u06cc\u062f"}),(0,m.jsxs)("form",{className:"add-com-form",children:[(0,m.jsxs)("div",{className:"add-com-form-wrap",children:[(0,m.jsx)(a.A,{valInp:g,setValInp:v,cildren:(0,m.jsx)(p.xOD,{}),placeHolderInp:"\u0639\u0646\u0648\u0627\u0646 \u0645\u0642\u0627\u0644\u0647"}),(0,m.jsx)(a.A,{valInp:b,setValInp:f,cildren:(0,m.jsx)(x.LUg,{}),placeHolderInp:"URL \u0645\u0642\u0627\u0644\u0647"}),(0,m.jsxs)("div",{className:"mt-2 mb-0 mb-md-5",children:[(0,m.jsx)("label",{htmlFor:"brief",className:"text-secondary mb-2 me-2",children:"\u0686\u06a9\u06cc\u062f\u0647 \u0645\u0642\u0627\u0644\u0647"}),(0,m.jsx)("textarea",{id:"brief",className:"w-100 h-100 rounded-4 px-3 pt-2",value:I,onChange:e=>y(e.target.value)})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"mt-0 mt-md-2 mb-5 mb-md-0",children:[(0,m.jsx)("label",{htmlFor:"article",className:"text-secondary mb-2 me-2",children:"\u0639\u06a9\u0633 \u0645\u0642\u0627\u0644\u0647"}),(0,m.jsx)("input",{type:"file",className:"form-control",id:"article",onChange:e=>(e=>k(e.target.files[0]))(e),ref:e})]}),(0,m.jsxs)("select",{className:"form-select border mt-md-5",onChange:e=>{return-1!==(t=e.target.value)&&w(t);var t},ref:t,children:[(0,m.jsx)("option",{value:"-1",children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0645\u0642\u0627\u0644\u0647"}),D.length&&D.map(((e,t)=>(0,m.jsx)("option",{value:e._id,children:e.title},t)))]})]})]}),(0,m.jsx)("div",{style:{width:"100%",marginTop:"2rem"},children:(0,m.jsx)(u,{value:N,setValue:S})}),(0,m.jsx)("button",{className:"add-com-submit",onClick:s=>(s=>{if(s.preventDefault(),g.length&&b.length&&N.length&&I.length&&A&&-1!==C){let s=new FormData;s.append("cover",A),s.append("title",g),s.append("description",I),s.append("body",N),s.append("shortName",b),s.append("categoryID",C),fetch("http://localhost:4000/v1/articles",{method:"POST",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)},body:s}).then((e=>e.json())).then((s=>{B(),k(""),v(""),f(""),w(-1),y(""),S(""),e.current.value="",t.current.value=-1,o()({title:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0645\u0642\u0627\u0644\u0647 \u0627\u0636\u0627\u0641\u0647 \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"})}))}else o()({title:"\u0644\u0637\u0641\u0627 \u0645\u0642\u0627\u062f\u06cc\u0631 \u062e\u0648\u0627\u0633\u062a\u0647 \u0634\u062f\u0647 \u0631\u0627 \u062a\u06a9\u0645\u06cc\u0644 \u0646\u0645\u0627\u06cc\u06cc\u062f",icon:"warning",buttons:"\u0628\u0627\u0634\u0647"})})(s),children:"\u062b\u0628\u062a \u0645\u0642\u0627\u0644\u0647"})]})]}),(0,m.jsx)("div",{className:"parent-table",children:s.length?(0,m.jsxs)("table",{children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{scope:"col",children:"\u0634\u0646\u0627\u0633\u0647"}),(0,m.jsx)("th",{scope:"col",children:"\u0639\u06a9\u0633"}),(0,m.jsx)("th",{scope:"col",children:"\u0639\u0646\u0648\u0627\u0646"}),(0,m.jsx)("th",{scope:"col",children:"\u0644\u06cc\u0646\u06a9"}),(0,m.jsx)("th",{scope:"col",children:"\u0646\u0648\u06cc\u0633\u0646\u062f\u0647"}),(0,m.jsx)("th",{scope:"col",children:"\u062d\u0630\u0641"})]})}),(0,m.jsx)("tbody",{children:s.map(((e,t)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:t+1}),(0,m.jsx)("td",{children:(0,m.jsx)("img",{src:"/Images/Blogs/".concat(e.cover),alt:"article",className:"products-table-img hgf"})}),(0,m.jsx)("td",{children:e.title}),(0,m.jsx)("td",{style:{fontSize:"1.4rem",color:"gray"},children:e.shortName}),(0,m.jsx)("td",{children:e.creator.name}),(0,m.jsx)("td",{children:(0,m.jsx)("button",{className:"products-table-btn",onClick:()=>{j(e._id),i(!0)},children:"\u062d\u0630\u0641"})})]},t)))})]}):(0,m.jsx)(c.A,{msg:"\u0647\u06cc\u0686 \u0645\u0642\u0627\u0644\u0647 \u0627\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})}),d&&(0,m.jsx)(n.A,{cancleAction:()=>i(!1),submitAction:e=>(e.preventDefault(),void(h&&fetch("http://localhost:4000/v1/articles/".concat(h),{method:"DELETE",referrerPolicy:"strict-origin-when-cross-origin",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((e=>e.json())).then((()=>{B(),j(!1),i(!1),o()({title:"\u0645\u0642\u0627\u0644\u0647 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062d\u0630\u0641 \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"})})))),title:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u0645\u0642\u0627\u0644\u0647 \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u062f\u0627\u0631\u06cc\u062f"})]})}}}]);
//# sourceMappingURL=352.02f72092.chunk.js.map