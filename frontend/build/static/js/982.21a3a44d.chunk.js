"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[982],{1432:(e,t,s)=>{s.d(t,{A:()=>l});s(5043);var n=s(579);function l(e){let{msg:t}=e;return(0,n.jsx)("div",{className:"parent-err-msg",children:(0,n.jsx)("h1",{className:"err-msg",children:t})})}},2621:(e,t,s)=>{s.d(t,{A:()=>l});s(5043);var n=s(579);function l(e){let{cildren:t,placeHolderInp:s,valInp:l,setValInp:c,dis:o=!1}=e;return(0,n.jsxs)("div",{className:"edit-products-form-group",children:[(0,n.jsx)("span",{children:t}),(0,n.jsx)("input",{type:"text",minLength:3,disabled:o,value:l||"",onChange:e=>c(e.target.value),placeholder:s,className:"edit-products-input text-black"})]})}},1073:(e,t,s)=>{s.d(t,{A:()=>n});const n=e=>{const t=t=>27===t.keyCode&&e();return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)}},8692:(e,t,s)=>{s.d(t,{A:()=>c});s(5043);var n=s(7950),l=s(579);function c(e){let{submitAction:t,cancleAction:s,title:c}=e;return n.createPortal((0,l.jsx)("div",{className:"modal-parent active",children:(0,l.jsxs)("div",{className:"delete-modal",children:[(0,l.jsx)("h1",{children:c}),(0,l.jsxs)("div",{className:"delete-modal-btns",children:[(0,l.jsx)("button",{className:"delete-btn delete-modal-accept-btn",onClick:e=>t(e),children:"\u0628\u0644\u0647"}),(0,l.jsx)("button",{className:"delete-btn delete-modal-reject-btn",onClick:()=>s(),children:"\u062e\u06cc\u0631"})]})]})}),document.getElementById("modals-parent"))}},5061:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(5043),l=s(7950),c=s(1073),o=s(579);function r(e){let{children:t,onClose:s,onSubmit:r,title:a,btnIsActive:i=!0}=e;return(0,n.useEffect)((()=>{(0,c.A)(s)})),l.createPortal((0,o.jsx)("div",{className:"modal-parent active",children:(0,o.jsxs)("form",{className:"edit-modal-form",children:[(0,o.jsx)("h1",{children:a}),t,i&&(0,o.jsx)("button",{className:"edit-form-submit",onClick:r,children:"\u0627\u062f\u0627\u0645\u0647"})]})}),document.getElementById("modals-parent"))}},6982:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var n=s(5043),l=s(1432),c=s(8692),o=(s(5061),s(2621),s(3023)),r=s.n(o),a=s(579);function i(e){let{allUsers:t,getAllUsers:s}=e;const[o,i]=(0,n.useState)(null),[d,u]=(0,n.useState)(!1),[h,p]=(0,n.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:t.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"products-title",children:"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646"}),(0,a.jsx)("div",{className:"parent-table table-users",children:(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",children:"\u0634\u0646\u0627\u0633\u0647"}),(0,a.jsx)("th",{scope:"col",children:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0648\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"}),(0,a.jsx)("th",{scope:"col",children:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc"}),(0,a.jsx)("th",{scope:"col",children:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633"}),(0,a.jsx)("th",{scope:"col",children:"\u0627\u06cc\u0645\u06cc\u0644"}),(0,a.jsx)("th",{scope:"col",children:"\u062a\u063a\u06cc\u0631 \u0646\u0642\u0634"}),(0,a.jsx)("th",{scope:"col",children:"\u062d\u0630\u0641"}),(0,a.jsx)("th",{scope:"col",children:"\u0628\u0646"})]})}),(0,a.jsx)("tbody",{children:t.map(((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:t+1}),(0,a.jsx)("td",{children:e.name}),(0,a.jsx)("td",{children:e.username}),(0,a.jsx)("td",{children:e.phone}),(0,a.jsx)("td",{children:e.email}),(0,a.jsx)("td",{children:(0,a.jsx)("button",{className:"products-table-btn",onClick:()=>{return t=e._id,void r()({title:"\u0644\u0637\u0641\u0627 \u0646\u0642\u0634 \u062c\u062f\u06cc\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f:",content:"input",buttons:"\u062a\u0627\u06cc\u06cc\u062f"}).then((e=>{if(e&&e.length){const n={role:e,id:t};fetch("http://localhost:4000/v1/users/role",{method:"PUT",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token),"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>{e.ok&&(s(),r()({title:"\u0646\u0642\u0634 \u06a9\u0627\u0631\u0628\u0631 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062a\u063a\u06cc\u06cc\u0631 \u06cc\u0627\u0641\u062a",icon:"success",buttons:"\u062e\u06cc\u0644\u06cc \u0647\u0645 \u0639\u0627\u0644\u06cc"}))}))}}));var t},children:"ADMIN"===e.role?"\u0645\u062f\u06cc\u0631":"\u06a9\u0627\u0631\u0628\u0631"})}),(0,a.jsx)("td",{children:(0,a.jsx)("button",{className:"products-table-btn",onClick:()=>{u(!0),i(e._id)},children:"\u062d\u0630\u0641"})}),(0,a.jsx)("td",{children:(0,a.jsx)("button",{className:"products-table-btn",onClick:()=>{p(!0),i(e._id)},children:"\u0628\u0646"})})]},t)))})]})})]}):(0,a.jsx)(l.A,{msg:"\u0647\u06cc\u0686 \u06a9\u0627\u0631\u0628\u0631\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})}),d&&(0,a.jsx)(c.A,{cancleAction:()=>u(!1),submitAction:()=>{fetch("http://localhost:4000/v1/users/".concat(o),{method:"DELETE",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((e=>{e.ok&&(r()({title:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u06a9\u0627\u0631\u0628\u0631 \u062d\u0630\u0641 \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"}),u(!1),s())}))},title:"\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 \u06a9\u0627\u0631\u0628\u0631 \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u062f\u0627\u0631\u06cc\u062f"}),h&&(0,a.jsx)(c.A,{cancleAction:()=>p(!1),submitAction:()=>{fetch("http://localhost:4000/v1/users/ban/".concat(o),{method:"PUT",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((e=>e.ok&&p(!1))),fetch("http://localhost:4000/v1/users/".concat(o),{method:"DELETE",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((e=>{e.ok&&(r()({title:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u06a9\u0627\u0631\u0628\u0631 \u0628\u0646 \u0648 \u0628\u0647 \u0635\u0648\u0631\u062a \u062e\u0648\u062f\u06a9\u0627\u0631 \u062d\u0630\u0641 \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"}),s())}))},title:"\u0622\u06cc\u0627 \u0627\u0632 \u0628\u0646 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631 \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u062f\u0627\u0631\u06cc\u062f"})]})}var d=s(9136),u=s(1355),h=s(184),p=s(3002),m=s(6720),x=s(9325);function j(e){let{getAllUsers:t}=e;const[s,l]=(0,n.useState)(null),[c,o]=(0,n.useState)([]),[i,j]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(5===c.length){c.every((e=>!!e.valid))?(v(!0),j(!0)):(v(!1),j(!1))}}),[c]),(0,n.useEffect)((()=>{null!==c&&void 0!==c&&c.valid&&c.valid?v(!1):(l(null),v(!0))}),[c]);const b=e=>{o((t=>{if(0===t.length)return[e];{let s=t.filter((t=>t.type!==e.type&&t));if(s)return[...s,e]}}))};return(0,a.jsxs)("div",{className:"com-main",children:[(0,a.jsx)("h1",{className:"com-title",children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u06a9\u0627\u0631\u06cc\u0631 \u062c\u062f\u06cc\u062f"}),(0,a.jsxs)("form",{className:"add-com-form",children:[(0,a.jsxs)("div",{className:"add-com-form-wrap",children:[(0,a.jsx)(d.A,{customStyle:"edit-products-form-group m-0",customStyleInp:"edit-products-input",cleanInput:s,onValid:b,type:x.Rw,inpPlaceholder:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0648\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",inpIcon:(0,a.jsx)(u.xOD,{})}),(0,a.jsx)(d.A,{customStyle:"edit-products-form-group m-0",customStyleInp:"edit-products-input",cleanInput:s,onValid:b,type:x.xh,inpPlaceholder:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc ",inpIcon:(0,a.jsx)(h.x$1,{})}),(0,a.jsx)(d.A,{customStyle:"edit-products-form-group m-0",customStyleInp:"edit-products-input",cleanInput:s,onValid:b,type:x.U9,inpPlaceholder:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646",inpIcon:(0,a.jsx)(h.dRU,{})}),(0,a.jsx)(d.A,{customStyle:"edit-products-form-group m-0",customStyleInp:"edit-products-input",cleanInput:s,onValid:b,type:x.fP,inpPlaceholder:"\u0622\u062f\u0631\u0633 \u0627\u06cc\u0645\u06cc\u0644",inpIcon:(0,a.jsx)(m.kap,{})}),(0,a.jsx)(d.A,{customStyle:"edit-products-form-group m-0",customStyleInp:"edit-products-input",cleanInput:s,onValid:b,type:x.IA,inpPlaceholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",inpIcon:(0,a.jsx)(p.dsv,{})})]}),(0,a.jsx)("button",{className:"add-com-submit",onClick:e=>(e=>{if(e.preventDefault(),i&&c.length){v(!0);const e={name:null,username:null,email:null,phone:null,password:null,confirmPassword:null};c.map((t=>(t.type===x.Rw&&(e.name=t.value),t.type===x.xh&&(e.username=t.value),t.type===x.fP&&(e.email=t.value),t.type===x.U9&&(e.phone=t.value),t.type===x.IA&&(e.password=t.value)&&(e.confirmPassword=t.value),!0))),fetch("http://localhost:4000/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((()=>{t(),l(""),o([]),r()({title:"\u06a9\u0627\u0631\u0628\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0636\u0627\u0641\u0647 \u0634\u062f",icon:"success",buttons:"\u0628\u0627\u0634\u0647"})})).catch((e=>{r()({title:"\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0633\u0645\u062a \u0633\u0631\u0648\u0631 \u067e\u06cc\u0634 \u0627\u0645\u062f\u0647 \u06cc\u0627 \u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646 \u06a9\u0627\u0631\u0628\u0631 \u0628\u0646 \u0647\u0633\u062a",icon:"error",buttons:"\u0628\u0627\u0634\u0647"})}))}})(e),disabled:!f,children:"\u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631"})]})]})}function f(){const[e,t]=(0,n.useState)([]);(0,n.useEffect)((()=>{s()}),[]);const s=()=>{fetch("http://localhost:4000/v1/users",{method:"GET",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)}}).then((e=>e.json())).then((e=>{console.log(e),t(e)}))};return(0,a.jsxs)("div",{children:[(0,a.jsx)(j,{getAllUsers:s}),(0,a.jsx)(i,{allUsers:e,getAllUsers:s})]})}}}]);
//# sourceMappingURL=982.21a3a44d.chunk.js.map