{"version":3,"file":"static/js/588.a65e3d58.chunk.js","mappings":"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","sources":["Pages/MyAccount/Pages/DetailsAccount/DetailsAccount.jsx"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\r\nimport './DetailsAccount.css'\r\nimport { VscGitPullRequestGoToChanges } from \"react-icons/vsc\";\r\nimport { AuthContext } from '../../../../Contexts/AuthContext';\r\nimport { validateEmail, validatePhone } from '../../../../Validators/Regex';\r\nimport swal from 'sweetalert';\r\n\r\nexport default function DetailsAccount() {\r\n\r\n  const authContext = useContext(AuthContext)\r\n  const { name, username, email, phone } = authContext.userInfos\r\n  const [nameInp, setNameInp] = useState(\"\")\r\n  const [userNameInp, setUserNameInp] = useState(\"\")\r\n  const [emailInp, setEmailInp] = useState(\"\")\r\n  const [passwordInp, setPasswordInp] = useState(\"\")\r\n  const [phoneInp, setPhoneInp] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n\r\n    if (email) {\r\n\r\n      setNameInp(name)\r\n      setUserNameInp(username)\r\n      setEmailInp(email)\r\n      setPhoneInp(phone)\r\n\r\n    }\r\n\r\n  }, [authContext])\r\n\r\n  const updateInfosAccountUser = () => {\r\n\r\n    if (\r\n      nameInp === name\r\n      && userNameInp === username\r\n      && emailInp === email\r\n      && phoneInp === phone\r\n      && !passwordInp.length\r\n    ) {\r\n\r\n      swal({\r\n        title: 'شما مقداری را بروز رسانی نکرده اید',\r\n        icon: 'warning',\r\n        buttons: 'باشه'\r\n      })\r\n\r\n    }\r\n\r\n    else if (\r\n\r\n      nameInp.length\r\n      && userNameInp.length\r\n      && phoneInp.length\r\n      && emailInp.length\r\n      && validateEmail(emailInp)\r\n      && validatePhone(phoneInp)\r\n      && passwordInp.length >= 8\r\n\r\n    ) {\r\n\r\n      const newUserInfos = {\r\n        name: nameInp,\r\n        username: userNameInp,\r\n        email: emailInp,\r\n        password: passwordInp,\r\n        phone: phoneInp\r\n      }\r\n\r\n      fetch(`http://localhost:4000/v1/users`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          'Authorization': `Bearer ${JSON.parse(localStorage.getItem('user')).token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(newUserInfos)\r\n      })\r\n        .then(res => res.json())\r\n        .then(datas => {\r\n          console.log(datas);\r\n          swal({\r\n            title: 'اطلاعات حساب شما با موفقیت بروز شد',\r\n            icon: 'success',\r\n            buttons: 'باشه'\r\n          })\r\n        })\r\n\r\n    }\r\n\r\n    else {\r\n\r\n      swal({\r\n        title: 'مقادیر وارد شده اشتباه یا ناقص است',\r\n        icon: 'warning',\r\n        buttons: 'باشه'\r\n      })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <section className='details-account'>\r\n\r\n      <section className='details-account__right-box'>\r\n\r\n        <h2>جزئیات حساب کاربری</h2>\r\n        <hr />\r\n\r\n        <section className='details-account__parent py-4'>\r\n          <div className='right-box__right'>\r\n\r\n            <div className='right-box__right-prof'>\r\n              <img src=\"/Images/Logos/Logo-account/logoAccount.png\" alt=\"yourImage\" className='account-content__prof prof-details-account' />\r\n              <div className='right-box__right-prof-parent-icon'>\r\n                <VscGitPullRequestGoToChanges className='right-box__right-prof-icon' />\r\n              </div>\r\n            </div>\r\n\r\n            <p className='lable-task'>شماره موبایل</p>\r\n            <input type=\"text\" className='input-details-account' value={phoneInp} onChange={e => setPhoneInp(e.target.value)} />\r\n            <p className='lable-task'>نام</p>\r\n            <input type=\"text\" className='input-details-account' value={nameInp} onChange={e => setNameInp(e.target.value)} />\r\n            <p className='lable-task'>نام کاربری</p>\r\n            <input type=\"text\" className='input-details-account' value={userNameInp} onChange={e => setUserNameInp(e.target.value)} />\r\n\r\n          </div>\r\n\r\n          <div className='right-box__left'>\r\n            <p className='lable-task'>تاریخ ثبت نام</p>\r\n            <input type=\"text\" className='input-details-account' defaultValue={authContext.userInfos.createdAt && authContext.userInfos.createdAt.slice(0, 10)} readOnly />\r\n            <p className='lable-task'>ایمیل</p>\r\n            <input type=\"text\" className='input-details-account' value={emailInp} onChange={e => setEmailInp(e.target.value)} />\r\n          </div>\r\n        </section>\r\n\r\n\r\n\r\n      </section>\r\n\r\n      <section className='details-account__left'>\r\n        <h2>تغیر رمز عبور</h2>\r\n        <hr />\r\n        <p className='lable-task'>رمز عبور فعلی</p>\r\n        <input type=\"text\" placeholder='رمز فعلی را وارد کنید' className='input-details-account' />\r\n        <p className='forget-password-details-account'>رمز عبور را فراموش کرده اید؟</p>\r\n        <p className='lable-task'>رمز عبور جدید</p>\r\n        <input type=\"text\" placeholder='رمز جدید را وارد کنید' className='input-details-account' value={passwordInp} onChange={e => setPasswordInp(e.target.value)} />\r\n        <br />\r\n      </section>\r\n      <div className='btn-details-account-parent'>\r\n        <button className='btn-details-account' onClick={updateInfosAccountUser}>بروزرسانی اطلاعات</button>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n"],"names":["DetailsAccount","authContext","useContext","AuthContext","name","username","email","phone","userInfos","nameInp","setNameInp","useState","userNameInp","setUserNameInp","emailInp","setEmailInp","passwordInp","setPasswordInp","phoneInp","setPhoneInp","useEffect","_jsxs","className","children","_jsx","src","alt","VscGitPullRequestGoToChanges","type","value","onChange","e","target","defaultValue","createdAt","slice","readOnly","placeholder","onClick","updateInfosAccountUser","length","validateEmail","validatePhone","newUserInfos","password","fetch","method","headers","concat","JSON","parse","localStorage","getItem","token","body","stringify","then","res","json","datas","console","log","swal","title","icon","buttons"],"sourceRoot":""}